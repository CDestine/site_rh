<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Test</title>
  <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@1.5.10/css/pico.min.css">
  <style>
    body { min-height: 100dvh; background: radial-gradient(1200px 600px at 20% -10%, #eef2ff 0, transparent 60%),
                                  radial-gradient(1000px 500px at 120% 10%, #f0f9ff 0, transparent 50%), #f8fafc; }
    .shell { max-width: 840px; margin: 2.5rem auto; }
    .muted { color: #64748b; }
    .progress { height: 8px; background: #e2e8f0; border-radius: 999px; overflow: hidden; }
    .progress > div { height: 100%; width: 10%; background: #2563eb; }
    .row { display:flex; gap:.5rem; flex-wrap:wrap; align-items:center; }
  </style>
</head>
<body>
  <header class="container">
    <nav>
      <ul><li><strong id="brand">Acme ‚Ä¢ Recrutement</strong></li></ul>
      <ul>
        <li><a href="privacy.html" id="lnkConf">Confidentialit√©</a></li>
        <li>
          <select id="langSel">
            <option value="fr">FR</option>
            <option value="en">EN</option>
          </select>
        </li>
      </ul>
    </nav>
  </header>

  <main class="container shell">
    <article class="card">
      <header class="row" style="justify-content:space-between">
        <small id="idToken" class="muted"></small>
        <small class="muted"><span id="timer">00:00</span></small>
      </header>

      <div class="progress" aria-hidden="true"><div id="progressBar"></div></div>
      <small id="stepLabel" class="muted">Question 1 / 10</small>

      <h2 id="qTitle" style="margin-top:.5rem">Question</h2>

      <label id="lblWritten">R√©ponse √©crite</label>
      <textarea id="textAnswer" rows="6" placeholder="Votre r√©ponse ici..." maxlength="600"></textarea>
      <small id="chars" class="muted">0 / 600 (min 20)</small>

      <label id="audioLabel">R√©ponse audio (optionnelle)</label>
      <div class="row">
        <button id="recBtn" class="secondary">üéôÔ∏è Enregistrer</button>
        <button id="stopBtn" class="secondary" disabled>‚èπ Arr√™ter</button>
        <small id="aStatus" class="muted">Aucun audio</small>
      </div>
      <audio id="player" controls style="display:none;width:100%"></audio>

      <footer class="row" style="justify-content:space-between">
        <button id="prevBtn" class="secondary" disabled>‚Üê Pr√©c√©dent</button>
        <button id="nextBtn">Suivant ‚Üí</button>
      </footer>

      <small id="status" class="muted"></small>
    </article>

    <p class="contrast" style="text-align:center;margin-top:1rem;">
      <a href="privacy.html">Politique de confidentialit√©</a>
    </p>
  </main>

  <!-- Scripts -->
  <script src="lang.js"></script>
  <script src="cookies.js"></script>
  <script src="app.js"></script>
  <script>
    const lang = getLang();
    document.getElementById('langSel').value = lang;
    document.getElementById('langSel').addEventListener('change', e => { setLang(e.target.value); location.reload(); });

    const t = LANGS[lang];
    document.getElementById('brand').textContent = t.brand;
    document.getElementById('lnkConf').textContent = t.conf;
    document.getElementById('audioLabel').textContent = t.audio_label;
  </script>
</body>
</html>
